<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artículo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module" src="config.js"></script>
</head>

<body class="bg-gray-100 text-gray-800 flex flex-col items-center p-6">
    <h1 id="post-title" class="text-3xl font-bold mb-4">Cargando...</h1>
    <p id="post-content" class="text-gray-700"></p>
    <a href="index.html" class="mt-4 text-blue-500 hover:underline">Regresar al Inicio</a>

    <script type="module">
        import { API_URL } from './config.js';

        function getPostIdFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get("id");
        }

        async function loadPost() {
            const postId = getPostIdFromUrl();
            if (postId !== null) {
                const response = await fetch(`${API_URL}/posts/${postId}`);
                if (response.ok) {
                    const post = await response.json();
                    document.getElementById("post-title").textContent = post.title;
                    document.getElementById("post-content").textContent = post.content;
                } else {
                    document.getElementById("post-title").textContent = "Artículo no encontrado";
                }
            } else {
                document.getElementById("post-title").textContent = "ID de artículo no especificado";
            }
        }

        loadPost();
    </script>
</body>

</html>